<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>UtiLite: Recorder Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">UtiLite
   &#160;<span id="projectnumber">0.2.14</span>
   </div>
   <div id="projectbrief">A lite utilities library</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Recorder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Recorder" --><!-- doxytag: inherits="UThreadNode" -->
<p><code>#include &lt;<a class="el" href="_recorder_8h_source.html">Recorder.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="class_u_thread_node.html">UThreadNode</a>.</p>

<p>Inherited by <a class="el" href="class_file_recorder.html">FileRecorder</a>, and <a class="el" href="class_mic_recorder.html">MicRecorder</a>.</p>

<p><a href="class_recorder-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_recorder.html#a2cda3953f1671357403bec1ff2328d0b">getNextFrame</a> (std::vector&lt; char &gt; &amp;frame, bool removeOldFrames=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_recorder.html#a5f868b5c443292d292ada8aa5b0c55b6">getNextFrame</a> (std::vector&lt; char &gt; &amp;frame, int &amp;frameId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_recorder.html#abea18e344683f4c5b0f0e9caa463aae3">getMultiFrame</a> (std::vector&lt; char &gt; &amp;frame, int frameIdBeg, int frameIdEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_recorder.html#a918b2df31e64f66a5dcb80e35e690b82">getFrame</a> (std::vector&lt; char &gt; &amp;frame, int frameId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_recorder.html#a11e789ed98b36c15f9b42aa5dc69378c">removeFrames</a> (int frameIdBeg, int frameIdEnd)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_recorder.html#a8c8f3cbdaa871dc4e5937fd3a086135a">mainLoopEnd</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This is the base class for all recorders. A recorder is used to get fixed frame length from a stream. It is configured with the length of the frame wanted. The main methods are Start, stop, and getNextFrame.</p>
<p><br/>
 Example : </p>
<div class="fragment"><pre class="fragment">    <a class="code" href="class_recorder.html">Recorder</a>* recorder = &lt;&lt;SeeInheritedClasses&gt;&gt;;
    Frame frame;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> frameId = 0;
    recorder-&gt;<a class="code" href="class_u_thread_node.html#a6f40dedbbe32ee422e136cbdd207de0b">start</a>();
    <span class="keywordflow">while</span>(recorder-&gt;<a class="code" href="class_recorder.html#a2cda3953f1671357403bec1ff2328d0b">getNextFrame</a>(frame, frameId))
    { 
      ...process the frame...
      ... <span class="keywordflow">break</span> when a condition is reached...
    }
    recorder-&gt;stop();
    <span class="keyword">delete</span> recorder;
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_u_thread_node.html#a6f40dedbbe32ee422e136cbdd207de0b">Recorder::start</a> </dd>
<dd>
Recorder::stop </dd>
<dd>
<a class="el" href="class_recorder.html#a2cda3953f1671357403bec1ff2328d0b">Recorder::getNextFrame</a> </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a918b2df31e64f66a5dcb80e35e690b82"></a><!-- doxytag: member="Recorder::getFrame" ref="a918b2df31e64f66a5dcb80e35e690b82" args="(std::vector&lt; char &gt; &amp;frame, int frameId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_recorder.html#a918b2df31e64f66a5dcb80e35e690b82">Recorder::getFrame</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a specific frame from the stream. If the id is higher than the last frame recorded, the caller will wait until enough data is recorded. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the result frame </td></tr>
    <tr><td class="paramname">frameId</td><td>the id of the frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, this method failed when the end of the stream is reached. </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>if getNextFrame with removeOldFrames=true is called, the id is reseted. </dd></dl>

</div>
</div>
<a class="anchor" id="abea18e344683f4c5b0f0e9caa463aae3"></a><!-- doxytag: member="Recorder::getMultiFrame" ref="abea18e344683f4c5b0f0e9caa463aae3" args="(std::vector&lt; char &gt; &amp;frame, int frameIdBeg, int frameIdEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_recorder.html#abea18e344683f4c5b0f0e9caa463aae3">Recorder::getMultiFrame</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameIdBeg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameIdEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the multiple frames from the stream. The caller will wait until enough data is recorded. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the result frame </td></tr>
    <tr><td class="paramname">frameIdBeg</td><td>the id of the begin frame </td></tr>
    <tr><td class="paramname">frameIdEnd</td><td>the id of the end frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, this method failed when the end of the stream is reached. </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>if getNextFrame with removeOldFrames=true is called, the id is reseted. </dd></dl>

</div>
</div>
<a class="anchor" id="a2cda3953f1671357403bec1ff2328d0b"></a><!-- doxytag: member="Recorder::getNextFrame" ref="a2cda3953f1671357403bec1ff2328d0b" args="(std::vector&lt; char &gt; &amp;frame, bool removeOldFrames=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_recorder.html#a2cda3953f1671357403bec1ff2328d0b">Recorder::getNextFrame</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>removeOldFrames</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the next frame from the stream. The caller will wait until the length of the frame required is reached. The parameter removeOldFrames can be used to clean the memory after each call. When removeOldFrames = true, the frame id is reseted. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the result frame </td></tr>
    <tr><td class="paramname">removeOldFrames</td><td>true to remove old frames </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, this method failed when the end of the stream is reached. </dd></dl>

</div>
</div>
<a class="anchor" id="a5f868b5c443292d292ada8aa5b0c55b6"></a><!-- doxytag: member="Recorder::getNextFrame" ref="a5f868b5c443292d292ada8aa5b0c55b6" args="(std::vector&lt; char &gt; &amp;frame, int &amp;frameId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_recorder.html#a2cda3953f1671357403bec1ff2328d0b">Recorder::getNextFrame</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>frameId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the next frame from the stream. The caller will wait until the length of the frame required is reached. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the result frame </td></tr>
    <tr><td class="paramname">frameId</td><td>the id of the frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, this method failed when the end of the stream is reached. </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>if getNextFrame with removeOldFrames=true is called, the id is reseted. </dd></dl>

</div>
</div>
<a class="anchor" id="a8c8f3cbdaa871dc4e5937fd3a086135a"></a><!-- doxytag: member="Recorder::mainLoopEnd" ref="a8c8f3cbdaa871dc4e5937fd3a086135a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_recorder.html#a8c8f3cbdaa871dc4e5937fd3a086135a">Recorder::mainLoopEnd</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Virtual method <a class="el" href="class_recorder.html#a8c8f3cbdaa871dc4e5937fd3a086135a">mainLoopEnd()</a>. User can implement this function to add a behavior after the thread is killed (after exiting the <a class="el" href="class_u_thread_node.html#ac8ffe8a5696e23731f86d6fa91edbb2a">mainLoop()</a>, work is still done in the thread before exiting). </p>

<p>Reimplemented from <a class="el" href="class_u_thread_node.html#a1664dfca409de05db1ef3327a1cc0871">UThreadNode</a>.</p>

<p>Reimplemented in <a class="el" href="class_mic_recorder.html#aa4d3a19e4759ee6463a04cbbf8ba8a37">MicRecorder</a>, and <a class="el" href="class_file_recorder.html#a1895a7b67fb69abfe58b9af305804ba9">FileRecorder</a>.</p>

</div>
</div>
<a class="anchor" id="a11e789ed98b36c15f9b42aa5dc69378c"></a><!-- doxytag: member="Recorder::removeFrames" ref="a11e789ed98b36c15f9b42aa5dc69378c" args="(int frameIdBeg, int frameIdEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_recorder.html#a11e789ed98b36c15f9b42aa5dc69378c">Recorder::removeFrames</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameIdBeg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameIdEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to clean the memory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">frameIdBeg</td><td>the id of the begin frame </td></tr>
    <tr><td class="paramname">frameIdEnd</td><td>the id of the end frame </td></tr>
  </table>
  </dd>
</dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>if getNextFrame with removeOldFrames=true is called, the id is reseted. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>audio/include/utilite/<a class="el" href="_recorder_8h_source.html">Recorder.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 18 2012 21:14:45 for UtiLite by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
